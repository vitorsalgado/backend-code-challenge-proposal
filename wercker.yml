box: openjdk:13-jdk

build:
  steps:
    - script:
        name: try to build / test challenge
        code: |
          if [ $WERCKER_GIT_BRANCH == "master" ]; then echo "skipping code challenge validation" && exit 0 ; fi

          if [ -e build.gradle ]
          then
            ./gradlew check
          fi

          if [ -e pom.xml ]
          then
            mvn test -B
          fi

after-steps:
  - slack-notifier:
      url: $SLACK_URL
      channel: notifications
      username: werckerbot
